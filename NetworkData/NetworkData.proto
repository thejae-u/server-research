syntax = "proto3";
package NetworkData;
import "google/protobuf/timestamp.proto";

message MoveData 
{
  // Current Position
  float x = 1;
  float y = 2;
  float z = 3;
  
  float vertical = 4; // -1.0 to 1.0
  float horizontal = 5; // -1.0 to 1.0
  float speed = 6; // Speed of the movement
}

message AtkData 
{
  string from = 1;
  string to = 2;
  int32 dmg = 3;
}

message RpcPacket
{
  string uid = 1;
  RpcMethod method = 2;
  bytes data = 3; // serialized parameter data (Login Data, Position Data, etc.)
  google.protobuf.Timestamp timestamp = 4;
}

message UserSimpleDto
{
  string uid = 1;
  string username = 2;
}

message InternalData
{
  LoginDto internal = 1;
}

message LoginDto
{
  string username = 1;
  string password = 2;
}

message GroupDto
{
  string groupId = 1;
  string name = 2;
  UserSimpleDto owner = 3;
  repeated UserSimpleDto playerList = 4;
}

message AccessToken
{
  string accessToken = 1;
}

enum RpcMethod
{
  InGameNone = 0;
  Move = 1;
  MoveStart = 2;
  MoveStop = 3;
  Atk = 4;
  Hit = 5;
  Dead = 6;
  
  // Network Settings
  NETWORK_NONE = 500;
  UDP_PORT = 501;
  USER_INFO = 502;
  GROUP_INFO = 503;
  PING = 504;
  PONG = 505;
  PACKET_COUNT = 506;
  LAST_RTT = 507;
}
